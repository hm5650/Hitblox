local a = game:GetService("StarterGui")
local b = game:GetService("Players")
local c = game:GetService("RunService")
local d = game:GetService("Lighting")
local e = b.LocalPlayer

local function f(g)
    local h = Instance.new("Sound")
    h.SoundId = g
    h.Parent = workspace
    h:Play()
    h.Ended:Connect(function()
        h:Destroy()
    end)
end

a:SetCore("SendNotification", {
    Title = "Loading",
    Text = "Made by hmmm5650 ;)",
    Duration = 5
})
task.wait()

local i = Instance.new("ScreenGui")
local j = Instance.new("Frame")
local k = Instance.new("UICorner")
local l = Instance.new("UIStroke")
local m = Instance.new("TextLabel")
local n = Instance.new("TextLabel")
local o = Instance.new("BlurEffect")
local p = game:GetService("TweenService")

i.Name = "LoadingScreen"
i.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
i.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

o.Parent = game.Lighting
o.Size = 20

j.Parent = i
j.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
j.Size = UDim2.new(0.25, 0, 0.25, 0)
j.Position = UDim2.new(0.375, 0, 0.375, 0)
j.Transparency = 0.5

k.Parent = j
k.CornerRadius = UDim.new(0.2, 0)

l.Parent = j
l.Thickness = 2
l.Color = Color3.fromRGB(255, 255, 0)

m.Name = "LoadingLabel"
m.Parent = j
m.BackgroundTransparency = 1
m.Size = UDim2.new(1, 0, 0.2, 0)
m.Position = UDim2.new(0, 0, 0.75, 0)
m.Font = Enum.Font.SourceSansBold
m.Text = "Loading Hitblox"
m.TextColor3 = Color3.fromRGB(255, 255, 255)
m.TextScaled = true

n.Parent = j
n.BackgroundTransparency = 1
n.Size = UDim2.new(0.6, 0, 0.6, 0)
n.Position = UDim2.new(0.2, 0, 0.1, 0)
n.Font = Enum.Font.SourceSans
n.Text = "ðŸª"
n.TextColor3 = Color3.fromRGB(255, 255, 0)
n.TextScaled = true

local q = p:Create(
    n,
    TweenInfo.new(1, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, -1),
    { Rotation = 360 }
)
q:Play()

task.wait(3)

local r = p:Create(
    j,
    TweenInfo.new(1, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut),
    { BackgroundTransparency = 1 }
)
r:Play()

r.Completed:Connect(function()
    i:Destroy()
    o:Destroy()
end)
task.wait(2)
f("rbxassetid://5607311932")

local s = loadstring(game:HttpGet("https://raw.githubusercontent.com/AZYsGithub/Arceus-X-UI-Library/main/source.lua"))()
s:SetTitle("Hitblox (v3.5)")
s:SetIcon("http://www.roblox.com/asset/?id=9178187770")
s:SetTheme("HighContrast")
f("rbxassetid://195868961")

local t = 20
local u = 0.89
local v = false
local w = false
local x = {}

local function y(z)
    return z ~= e and (z.Team ~= e.Team or z.Team == nil)
end

local function A(B)
    if not B then return end

    local C = B:FindFirstChild("HumanoidRootPart")

    if C then
        C.Size = Vector3.new(t, t, t)
        C.Transparency = u
        C.BrickColor = BrickColor.new("Dark red")
        C.Material = Enum.Material.Neon
        C.CanCollide = false
    end

    local D = B:FindFirstChild("Head")

    if D then
        D.Size = Vector3.new(t, t, t)
        D.Transparency = u
        D.BrickColor = BrickColor.new("Bright red")
        D.Material = Enum.Material.Neon
        D.CanCollide = false
        D.Massless = true
    end
end

local function E(B)
    if not B then return end

    local C = B:FindFirstChild("HumanoidRootPart")
    if C then
        C.Size = Vector3.new(2, 2, 1)
        C.Transparency = 1
        C.BrickColor = BrickColor.new("Medium stone grey")
        C.Material = Enum.Material.Plastic
        C.CanCollide = true
    end

    local D = B:FindFirstChild("Head")
    if D then
        D.Size = Vector3.new(2, 1, 1)
        D.Transparency = 1
        D.BrickColor = BrickColor.new("Medium stone grey")
        D.Material = Enum.Material.Plastic
        D.CanCollide = true
        D.Massless = false
    end
end

local function F(B)
    if not B then return end

    for _, G in ipairs(B:GetDescendants()) do
        if G:IsA("BasePart") then
            G.Size = Vector3.new(1, 1, 1)
            G.Transparency = 0.8
            G.BrickColor = BrickColor.new("Dark grey")
            G.Material = Enum.Material.SmoothPlastic
            G.CanCollide = false
            G.Anchored = false
            G.Velocity = Vector3.new(0, -50, 0)
        end
    end
end

local function H()
    for _, z in ipairs(b:GetPlayers()) do
        if y(z) and z.Character then
            A(z.Character)
        end
    end
end

local function I()
    for _, z in ipairs(b:GetPlayers()) do
        if z.Character then
            E(z.Character)
        end
    end
end

local J = false
local K

local function L(M)
    v = M
    f("rbxassetid://195868961")

    if v then
        H()

        if not J then
            J = true
            K = coroutine.create(function()
                while J do
                    task.wait(1)
                    H()
                end
            end)
            coroutine.resume(K)
        end
    else
        if J then
            J = false
            if K then
                coroutine.close(K)
                K = nil
            end
        end

        I()
    end
end

local function N(z)
    if x[z] then
        x[z]:Destroy()
        x[z] = nil
    end

    if not z.Character then return end

    if y(z) then
        local D = z.Character:FindFirstChild("Head")
        local C = z.Character:FindFirstChild("HumanoidRootPart")

        local O = D or C
        if not O then return end

        local P = Instance.new("BillboardGui")
        P.Name = "ESP"
        P.Adornee = O
        P.Size = UDim2.new(0, 100, 0, 50)
        P.StudsOffset = Vector3.new(0, 2, 0)
        P.AlwaysOnTop = true

        local Q = Instance.new("TextLabel", P)
        Q.Size = UDim2.new(1, 0, 1, 0)
        Q.BackgroundTransparency = 1
        Q.TextColor3 = Color3.new(1, 0, 0)
        Q.TextStrokeTransparency = 0
        Q.Text = z.Name
        Q.TextScaled = true
        Q.Font = Enum.Font.SourceSansBold

        x[z] = P
        P.Parent = O

        local function R()
            if z.Character and z.Character:FindFirstChild("HumanoidRootPart") and e.Character and e.Character:FindFirstChild("HumanoidRootPart") then
                local S = (e.Character.HumanoidRootPart.Position - z.Character.HumanoidRootPart.Position).Magnitude
                local T = 10
                local U = 100
                local V = math.clamp(U - S * 0.5, T, U)
                P.Size = UDim2.new(0, V, 0, V * 0.5)
            end
        end

        local W = tick()
        c.RenderStepped:Connect(function()
            if tick() - W >= 0.1 then
                R()
                W = tick()
            end
        end)
    end
end

local function X(M)
    w = M
    f("rbxassetid://195868961")

    if w then
        for _, z in ipairs(b:GetPlayers()) do
            if y(z) then
                N(z)
            end
        end
    else
        for _, Y in pairs(x) do
            Y:Destroy()
        end
        x = {}
    end
end

local function Z(z)
    if y(z) then
        z.CharacterAdded:Connect(function(B)
            task.wait(1)
            if w then
                N(z)
            end
            if v then
                E(B)
            end
        end)

        z.CharacterRemoving:Connect(function()
            if z.Character then
                F(z.Character)
            end
        end)

        if z.Character and w then
            N(z)
        end
    end
end

for _, z in ipairs(b:GetPlayers()) do
    Z(z)
end

b.PlayerAdded:Connect(Z)
b.PlayerRemoving:Connect(function(z)
    if x[z] then
        x[z]:Destroy()
        x[z] = nil
    end
end)

s:AddButton("FBright", function()
    f("rbxassetid://6228337171")
    local d = game:GetService("Lighting")

    d.Brightness = 2
    d.OutdoorAmbient = Color3.fromRGB(255, 255, 255)
    d.Ambient = Color3.fromRGB(255, 255, 255)
    d.TimeOfDay = "14:00:00"
    d.FogStart = 0
    d.FogEnd = 100000
    d.FogColor = Color3.fromRGB(255, 255, 255)

    c.Heartbeat:Connect(function()
        d.Brightness = 2
        d.OutdoorAmbient = Color3.fromRGB(255, 255, 255)
        d.Ambient = Color3.fromRGB(255, 255, 255)
        d.TimeOfDay = "14:00:00"
        d.FogStart = 0
        d.FogEnd = 100000
        d.FogColor = Color3.fromRGB(255, 255, 255)
    end)
end)

s:AddButton("AntiLag", function()
    f("rbxassetid://6228337171")
    local function _()
        for _, a0 in pairs(workspace:GetDescendants()) do
            if a0:IsA("Decal") and not a0:IsDescendantOf(b) then
                a0:Destroy()
            end
            if a0:IsA("MeshPart") and not a0:IsDescendantOf(b) then
                a0:Destroy()
            end
            if a0:IsA("SurfaceGui") then
                a0:Destroy()
            end
        end
    end
    task.wait()
    for a1,a2 in next, (workspace:GetDescendants()) do
        if a2:IsA("Part") then a2.Material = Enum.Material.SmoothPlastic
        end
    end
end)

s:AddToggle("Fov", function(M)
    if M then
        f("rbxassetid://195868961")
        local a3 = game.Workspace.CurrentCamera
        a3.FieldOfView = 120
    else
        f("rbxassetid://195868961")
        local a3 = game.Workspace.CurrentCamera
        a3.FieldOfView = 79
    end
end, false)

s:AddToggle("Expand Hitbox", function(M)
    L(M)
end, false)

s:AddToggle("ESP", function(M)
    X(M)
end, false)

s:AddToggle("Fpp Toggle", function(M)
    if M then
        f("rbxassetid://195868961") 
        
        
        local camera = game.Workspace.CurrentCamera
        camera.CameraType = Enum.CameraType.Custom  -- Ensure normal camera movement
        e.CameraMode = Enum.CameraMode.LockFirstPerson

        -- Prevent forced locking to scriptable camera
        if getgenv().cameraLockConnection then
            getgenv().cameraLockConnection:Disconnect()
            getgenv().cameraLockConnection = nil
        end
    else
        f("rbxassetid://195868961") 
        
        
        e.CameraMode = Enum.CameraMode.Classic
    end
end, false)

s:AddButton("AimAssist", function()
    f("rbxassetid://6228337171")
    local player = game.Players.LocalPlayer
local userInputService = game:GetService("UserInputService")
local runService = game:GetService("RunService")

-- UI Elements
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false -- Prevents UI from resetting when respawning

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 99, 0, 44)
frame.Position = UDim2.new(0, 115, 0, 49)
frame.AnchorPoint = Vector2.new(0.5, 1) -- Anchors the frame to the bottom center
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BackgroundTransparency = 0.2
frame.Active = true -- Necessary for Input events to work
frame.Parent = screenGui

local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0.8, 0)
uiCorner.Parent = frame

local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(1, 0, 1, 0)
toggleButton.Text = "Aim Assist"
toggleButton.BackgroundTransparency = 1
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.TextSize = 10 -- Set the text size to 16
toggleButton.Parent = frame

local uiStroke = Instance.new("UIStroke")
uiStroke.Thickness = 2
uiStroke.Color = Color3.fromRGB(255, 255, 0)
uiStroke.Enabled = false
uiStroke.Parent = frame

-- Toggle Logic
local aimAssistEnabled = false
toggleButton.MouseButton1Click:Connect(function()
    aimAssistEnabled = not aimAssistEnabled
    uiStroke.Enabled = aimAssistEnabled
end)

-- Aim Assist Logic
local function isEnemy(otherPlayer)
    -- Check if the game is team-based
    if game:GetService("Teams") and #game:GetService("Teams"):GetTeams() > 1 then
        -- Team-based game: target players on the opposite team
        local playerTeam = player.Team
        local otherPlayerTeam = otherPlayer.Team
        return playerTeam ~= nil and otherPlayerTeam ~= nil and playerTeam ~= otherPlayerTeam
    else
        -- Non-team game: target all other players
        return otherPlayer ~= player
    end
end

local function isVisible(targetPosition, targetCharacter)
    local localCharacter = player.Character
    if not localCharacter then return false end
    local localRoot = localCharacter:FindFirstChild("HumanoidRootPart")
    if not localRoot then return false end

    -- Raycast from the local player to the target position
    local ray = Ray.new(localRoot.Position, (targetPosition - localRoot.Position).Unit * 1000)
    local hit, position = workspace:FindPartOnRay(ray, localCharacter)

    -- If the ray hits something, check if it's the target
    if hit then
        if hit:IsDescendantOf(targetCharacter) then
            return true -- No wall in between
        else
            return false -- Wall detected
        end
    end
    return false
end

local function findNearestPlayer()
    local nearestPlayer = nil
    local shortestDistance = math.huge
    local localCharacter = player.Character
    if not localCharacter then return nil end
    local localRoot = localCharacter:FindFirstChild("HumanoidRootPart")
    if not localRoot then return nil end

    for _, otherPlayer in pairs(game.Players:GetPlayers()) do
        if isEnemy(otherPlayer) and otherPlayer.Character then
            local character = otherPlayer.Character
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            if rootPart then
                local distance = (localRoot.Position - rootPart.Position).Magnitude
                if distance < shortestDistance and isVisible(rootPart.Position, character) then
                    shortestDistance = distance
                    nearestPlayer = otherPlayer
                end
            end
        end
    end
    return nearestPlayer
end

runService.RenderStepped:Connect(function()
    if aimAssistEnabled then
        local nearestPlayer = findNearestPlayer()
        if nearestPlayer and nearestPlayer.Character then
            local targetRoot = nearestPlayer.Character:FindFirstChild("HumanoidRootPart")
            if targetRoot then
                -- Adjust the player's aim (this is game-specific and may require additional logic)
                local camera = workspace.CurrentCamera
                if camera then
                    -- Smoothly adjust the camera to look at the target
                    local targetPosition = targetRoot.Position
                    local cameraPosition = camera.CFrame.Position
                    local newCFrame = CFrame.new(cameraPosition, targetPosition)
                    camera.CFrame = camera.CFrame:Lerp(newCFrame, 0.3) -- Smooth transition
                end
            end
        end
    end
end)

-- Dragging System
local dragging = false
local dragStart = Vector2.new(0, 0)
local startPos = UDim2.new(0, 0, 0, 0)

frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = frame.Position
    end
end)

frame.InputChanged:Connect(function(input)
    if (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) and dragging then
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

userInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)
end)

s:AddButton("BlatantCC", function()
    f("rbxassetid://6228337171")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/vxyo/RevNigga/refs/heads/main/FreeForeverBlatantCC"))()
end)

s:AddButton("ðŸª", function()
    f("rbxassetid://7115235855")
    a:SetCore("SendNotification", {
        Title = "$10",
        Text = "ðŸª yuymyy",
        Duration = 3
    })
end)

s:Show()
